(this["webpackJsonpreact-music"]=this["webpackJsonpreact-music"]||[]).push([[0],{243:function(n,t,e){"use strict";var i=e(1),o=(e(0),e(11));e(244),t.a=Object(o.g)((function(n){var t=void 0===(e=n.title)?"\u6b4c\u5355":e,e=n.history;n=n.isMarquee;return Object(i.jsxs)("nav",{className:"mm-nav",children:[Object(i.jsx)("div",{className:"mm-nav-left",onClick:e.goBack}),n?Object(i.jsx)("marquee",{children:Object(i.jsx)("div",{className:"mm-nav-title",children:t})}):Object(i.jsx)("div",{className:"mm-nav-title",children:t}),Object(i.jsx)("div",{className:"mm-nav-right"})]})}))},244:function(n,t,e){},249:function(n,t,e){"use strict";var i=e(1),o=e(3),r=e(0),a=e.n(r),c=e(4),s=e(5);function l(){var n=Object(o.a)(["\n  .icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -10px;\n    margin-left: -10px;\n      color: var(--THEME);\n    font-size: 14px;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    transform: translate3d(0, 0, 0);\n    >div{\n      transition: transform 1s;\n    }\n  }\n"]);return l=function(){return n},n}e(2);var d=c.a.div(l());c=Object(r.forwardRef)((function(n,t){var e=Object(r.useRef)(),o=Object(s.h)("transform");function a(n){for(var t=n.x,i=n.y,r=0;r<10&&"break"!==function(n){var r=[].slice.call(e.current.children)[n];if(!1===r.running)return r.style.left=t+"px",r.style.top=i+"px",r.style.display="inline-block",setTimeout((function(){r.running=!0,r.style[o]="translate3d(0, 750px, 0)",r.querySelector("div").style[o]="translate3d(-40px, 0, 0)"}),20),"break"}(r);r++);}return Object(r.useEffect)((function(){for(var n,t=0;t<10;t++){var i=(void 0,n="<div class='icon_wrapper'>".concat(i='<div class="iconfont">&#xe642;</div>',"</div>"),(i=document.createElement("div")).innerHTML=n,i.firstChild);e.current.appendChild(i)}[].slice.call(e.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style.transform="translate3d(0, 0, 0)",this.running=!1,this.querySelector("div").style.transform="translate3d(0, 0, 0)"}),!1)}))}),[]),Object(r.useImperativeHandle)(t,(function(){return{startAnimation:a}})),Object(i.jsx)(d,{ref:e})}));t.a=a.a.memo(c)},250:function(n,t,e){"use strict";e.r(t),e.d(t,"Context",(function(){return q}));var i=e(1),o=e(10),r=e(0),a=e.n(r),c=e(3),s=e(4),l=e(2);function d(){var n=Object(c.a)(["\n  position: fixed;\n  left: 0; right: 0; top: 0; bottom: 0;\n  width: 100px;\n  height: 100px;\n  margin: auto;\n"]);return d=function(){return n},n}function u(){var n=Object(c.a)(["\n  >li{\n    display: flex;\n    height: 60px;\n    align-items: center;  \n    .index{\n      width: 60px;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n    }\n   \n    .info{\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      height: 100%;\n      padding: 5px 0;\n      flex-direction: column;\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n      >span:first-child{\n        color: ",";\n      }\n      >span:last-child{\n        font-size: ",";\n        color: #bba8a8;\n      }\n    }\n    \n  }\n"]);return u=function(){return n},n}function p(){var n=Object(c.a)(["\n  border-radius: 10px;\n  opacity: 0.98;\n  .first_line{\n    box-sizing: border-box;\n    padding: 10px 0;\n    margin-left: 10px;\n    position: relative;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n    .play_all{\n      display: inline-block;\n      line-height: 24px;\n      color: ",";\n      .iconfont {\n        font-size: 24px;\n        margin-right: 10px;\n        vertical-align: top;\n      }\n      .sum{\n        font-size: ",";\n        color: ",";\n      }\n      >span{\n        vertical-align: top;\n      }\n    }\n    .add_list {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      right: 0; top :0px; bottom: 0;\n      width: 130px;\n      line-height: 34px;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: 3px;\n      vertical-align: top;\n      .iconfont {\n        vertical-align: top;\n        font-size: 10px;\n        margin: 0 5px 0 10px;\n      }\n      span{\n        font-size: 14px;\n        line-height: 34px;\n      }\n  }\n}\n"]);return p=function(){return n},n}function f(){var n=Object(c.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  box-sizing: border-box;\n  margin: 0 30px;\n  margin-top: -20px;\n  margin-bottom: 10px;\n  >div {\n    display: flex;\n    flex-direction: column;\n    line-height: 20px;\n    text-align: center;\n    font-size: ",";\n    color: #3b1f1f;\n    color: ",";\n    z-index:1000;\n    font-weight: 500;\n    .iconfont {\n      font-size: 20px;\n    }\n  }\n"]);return f=function(){return n},n}function b(){var n=Object(c.a)(["\n  background-size: 100%;\n  padding: 5px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  box-sizing: border-box;\n  width: 100%;\n  height: 200px;\n  position: relative;\n  z-index: 100;\n  .background{\n    /* z-index: -1; */\n    background: url(",") left top no-repeat;\n\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    filter: blur(20px);\n    transform: scale(1.5);\n  }\n  .img_wrapper{\n    width: 120px;\n    height: 120px;\n    position: relative;         \n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient(hsla(0,0%,43%,.4),hsla(0,0%,100%,0));\n    }\n    .play_count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play{\n        vertical-align: top;\n      }\n    }\n    img{\n      width: 120px;\n      height: 120px;\n      border-radius:3px;\n    }\n  }\n  .desc_wrapper {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    height: 120px;\n    padding: 0 10px;\n    .title{\n      max-height: 70px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n      font-weight: 700;\n      line-height: 1.5;\n      font-size: ",";\n    }\n    .person{\n      display: flex;\n      .avatar{\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        img{\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n        }\n      }\n      .name {\n        line-height: 20px;\n        font-size: ",";\n        color: ",";\n      }\n    }\n  }\n"]);return b=function(){return n},n}function x(){var n=Object(c.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 100;\n  overflow: hidden;\n  //background: #f2f3f4;\n  background: #fff;\n  transform-origin: right bottom;\n  &.fly-enter, &.fly-appear{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active, &.fly-appear-active{\n    transition: transform .3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit{\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n    transition: transform .3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"]);return x=function(){return n},n}var h=s.a.div(x()),g=(s.a.div(b(),(function(n){return n.background}),l.a["font-size-s"],l.a["font-color-light"],l.a["font-color-desc"],l.a["font-size-l"],l.a["font-size-m"],l.a["font-color-desc"]),s.a.div(f(),l.a["font-size-s"],l.a["font-color-desc"]),s.a.div(p(),l.a["border-color"],l.a["font-color-desc"],l.a["font-size-s"],l.a["font-color-desc-v2"],l.a["theme-color"],l.a["font-color-light"]),s.a.ul(u(),l.a["border-color"],l.a["font-color-desc"],l.a["font-size-s"]),s.a.div(d()),e(241)),j=e(45),m=e(22),v=e(75),O=e(72),y=e(243);function z(){var n=Object(c.a)(["\n    .mm-nav {\n        position: ",";\n        z-index: 3;\n        width:100%;\n        background:",";\n    }\n"]);return z=function(){return n},n}var w=s.a.div(z(),(function(n){return n.loading?"relative":"fixed"}),(function(n){return n.isMarquee||n.loading?"var(--THEME)":"transparent"})),k=a.a.forwardRef((function(n,t){var e=n.title,o=n.isMarquee;n=n.loading;return Object(i.jsx)(w,{ref:t,isMarquee:o,loading:n?1:0,children:Object(i.jsx)(y.a,{title:e,isMarquee:o})})}));k.defaultProps={handleClick:function(){},title:"\u6807\u9898",isMarquee:!1};var N=a.a.memo(k);function C(){var n=Object(c.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  box-sizing: border-box;\n  padding: 0 30px 20px 30px;\n  >div {\n    display: flex;\n    flex-direction: column;\n    line-height: 20px;\n    text-align: center;\n    font-size: ",";\n    color: #3b1f1f;\n    color: ",";\n    z-index:1000;\n    font-weight: 500;\n    .iconfont {\n      font-size: 20px;\n    }\n  }\n"]);return C=function(){return n},n}function L(){var n=Object(c.a)(["\n    position: relative;\n   .topWrapper {\n       background-size: 100%;\n      padding: 0 20px;\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n      box-sizing: border-box;\n      width: 100%;\n      height: 200px;\n      position: relative;\n   }\n  .background{\n    z-index: -1;\n    background: url(",") left top no-repeat;\n    background: contain;\n    background-position: 0 0;\n    background-size: 100% 100%;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    filter: blur(20px);\n    .filter{\n      position: absolute;\n      z-index: 10;\n      top: 0; left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(7, 17, 27, 0.2);\n    }\n  }\n  .img_wrapper{\n    width: 120px;\n    height: 120px;\n    position: relative;         \n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient(hsla(0,0%,43%,.4),hsla(0,0%,100%,0));\n    }\n    .play_count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play{\n        vertical-align: top;\n      }\n    }\n    img{\n      width: 120px;\n      height: 120px;\n      border-radius:3px;\n    }\n  }\n  .desc_wrapper {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    height: 120px;\n    padding: 0 10px;\n    .title{\n      max-height: 70px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n      font-weight: 700;\n      line-height: 1.5;\n      font-size: ",";\n    }\n    .person{\n      display: flex;\n      .avatar{\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        img{\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n        }\n      }\n      .name {\n        line-height: 20px;\n        font-size: ",";\n        color: ",";\n      }\n    }\n  }\n"]);return L=function(){return n},n}var I=s.a.div(L(),(function(n){return n.background}),l.a["font-size-s"],l.a["font-color-light"],l.a["font-color-light"],l.a["font-size-l"],l.a["font-size-m"],l.a["font-color-desc-v2"]),S=s.a.div(C(),l.a["font-size-s"],l.a["font-color-light"]),E=e(251);e(255);var _=a.a.memo((function(n){var t=n.currentAlbum,e=n.pullUpLoading,o=(n.id,function(){return Object(i.jsxs)(S,{children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{className:"icon icon-pinglun"}),"\u8bc4\u8bba"]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{className:"icon icon-xihuan1"}),"\u70b9\u8d5e"]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{className:"icon icon-tianjia"}),"\u6536\u85cf"]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("i",{className:"icon icon-youcecaidan"}),"\u66f4\u591a"]})]})});return Object(i.jsxs)("div",{children:[Object(i.jsxs)(I,{background:t.coverImgUrl,children:[Object(i.jsx)("div",{className:"background",children:Object(i.jsx)("div",{className:"filter"})}),Object(i.jsxs)("div",{className:"topWrapper",children:[Object(i.jsxs)("div",{className:"img_wrapper",children:[Object(i.jsx)("div",{className:"decorate"}),Object(i.jsx)("img",{src:t.coverImgUrl,alt:""}),Object(i.jsxs)("div",{className:"play_count",children:[Object(i.jsx)("i",{className:"icon play icon-headset"}),Object(i.jsxs)("span",{className:"count",children:[Math.floor(t.subscribedCount/1e3)/10,"\u4e07"]})]})]}),Object(i.jsxs)("div",{className:"desc_wrapper",children:[Object(i.jsx)("h1",{className:"title",children:t.name}),Object(i.jsxs)("div",{className:"person",children:[Object(i.jsx)("div",{className:"avatar",children:Object(i.jsx)("img",{src:t.creator.avatarUrl,alt:""})}),Object(i.jsx)("div",{className:"name",children:t.creator.nickname})]})]})]}),n.showMenu&&o()]}),Object(i.jsx)(E.a,{songs:t.tracks,collectCount:t.subscribedCount,showCollect:!1,loading:e,musicAnimation:n.musicAnimation,showBackground:!0})]})})),M=e(6),A=e(249),D=e(5),q=Object(r.createContext)(void 0);t.default=Object(m.b)((function(n){return{currentAlbum:n.getIn(["album","currentAlbum"]),pullUpLoading:n.getIn(["album","pullUpLoading"]),enterLoading:n.getIn(["album","enterLoading"]),startIndex:n.getIn(["album","startIndex"]),totalCount:n.getIn(["album","totalCount"])}}),(function(n){return{getAlbumDataDispatch:function(t){n(Object(v.a)(!0)),n(Object(v.c)(t))},changePullUpLoadingStateDispatch:function(t){n(Object(v.b)(t))}}}))(a.a.memo((function(n){var t=Object(r.useState)(!0),e=(m=Object(o.a)(t,2))[0],a=m[1],c=Object(r.useState)("\u6b4c\u5355"),s=(v=Object(o.a)(c,2))[0],l=v[1],d=Object(r.useState)(!1),u=Object(o.a)(d,2),p=(t=u[0],u[1]),f=Object(r.useRef)(),b=Object(r.useRef)(),x=n.match.params.id,m=n.currentAlbum,v=(c=n.enterLoading,n.pullUpLoading),y=(d=n.songsCount,n.getAlbumDataDispatch),z=n.changePullUpLoadingStateDispatch,w=m.toJS();return Object(r.useEffect)((function(){y(x)}),[y,x]),u=Object(r.useCallback)((function(n){var t=-M.a,e=Math.abs(n.y/t),i=b.current;n.y<t?(i.style.opacity=Math.min(1,(e-1)/2),l(w&&w.name),p(!0)):(i.style.opacity=1,l("\u6b4c\u5355"),p(!1))}),[w]),m=Object(r.useCallback)((function(){a(!1)}),[]),Object(i.jsx)(g.a,{in:e,timeout:300,appear:!0,unmountOnExit:!0,onExited:n.history.goBack,children:Object(i.jsxs)(h,{play:d,children:[Object(i.jsx)(N,{ref:b,loading:c,title:s,handleClick:m,isMarquee:t}),c||Object(D.g)(w)?null:Object(i.jsx)(j.a,{onScroll:u,pullUp:function(){z(!0),z(!1)},pullUpLoading:v,bounceTop:!0,children:Object(i.jsx)(q.Provider,{value:x,children:Object(i.jsx)(_,{showMenu:!1,currentAlbum:w,pullUpLoading:v,musicAnimation:function(n,t){f.current.startAnimation({x:n,y:t})}})})}),c?Object(i.jsx)(O.a,{}):null,Object(i.jsx)(A.a,{ref:f})]})})})))},251:function(n,t,e){"use strict";var i=e(1),o=e(10),r=e(0),a=e.n(r),c=e(3),s=e(4),l=e(2);function d(){var n=Object(c.a)(["\n  >li{\n    display: flex;\n    height: 54px;\n    align-items: center;\n    &:last-child {\n        .info {\n        border: none!important;\n        }\n    }  \n    &.songError{\n        * {\n        color: #bbbbbb!important;\n        }\n    }\n    &.songActive {\n        * {\n        color: var(--THEME)!important;\n        }\n    }\n    .index{\n        font-size:",";\n    color:",";\n      flex-basis: 60px;\n      width: 60px;\n      height: 54px;\n      line-height: 54px;\n      text-align: center;\n    }\n    .info{\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      height: 100%;\n      padding: 4px 0;\n      flex-direction: column;\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n      ","\n      >span{\n        ","\n      }\n      >span:first-child{\n        font-size:",";\n        color: ",";\n      }\n      >span:last-child{\n        font-size: ",";\n        color:",";\n      }\n    }\n  }\n"]);return d=function(){return n},n}function u(){var n=Object(c.a)(["\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  opacity: 0.98;\n  ",";\n  .first_line{\n    box-sizing: border-box;\n    padding: 10px 0;\n    margin-left: 10px;\n    position: relative;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n    .play_all{\n      display: inline-block;\n      line-height: 24px;\n      color: ",";\n      .iconfont {\n        font-size: 24px;\n        margin-right: 10px;\n        vertical-align: top;\n      }\n      .sum{\n        font-size: ",";\n        color: ",";\n      }\n      >span{\n        vertical-align: top;\n      }\n    }\n    .add_list,.isCollected {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      right: 0; top :0; bottom: 0;\n      width: 130px;\n      line-height: 34px;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: 3px;\n      vertical-align: top;\n      .iconfont {\n        vertical-align: top;\n        font-size: 10px;\n        margin: 0 5px 0 10px;\n      }\n      span{\n        font-size: 14px;\n        line-height: 34px;\n      }\n    }\n    .isCollected{\n      display: flex;\n      background: ",";\n      color: ",";\n    }\n}\n"]);return u=function(){return n},n}var p=s.a.div(u(),(function(n){return n.showBackground?"background: ".concat(l.a["highlight-background-color"]):""}),l.a["border-color"],l.a["font-color-desc"],l.a["font-size-s"],l.a["font-color-desc-v2"],l.a["theme-color"],l.a["font-color-light"],l.a["background-color"],l.a["font-color-desc"]),f=s.a.ul(d(),l.a["font-size-m"],l.a["list-main-color"],l.a["border-color"],l.a.noWrap(),l.a.noWrap(),l.a["font-size-m"],l.a["list-main-color"],l.a["font-size-s"],l.a["list-light-color"]),b=e(5),x=e(6),h=(s=e(71),e.n(s)),g=(s=e(22),e(9)),j=e(250);e=a.a.forwardRef((function(n,t){var e,a=Object(r.useState)(0),c=(v=Object(o.a)(a,2))[0],s=v[1],l=n.songs,d=n.collectCount,u=n.showCollect,g=void 0!==(z=n.loading)&&z,m=n.usePageSplit,v=(a=n.currentSong,n.errorList),O=n.musicAnimation,y=n.changePlayListDispatch,z=n.fakeId,w=n.changeCurrentIndexDispatch,k=n.changeSequecePlayListDispatch,N=n.changeErrorListDispatch,C=Object(r.useContext)(j.Context)||z,L=l.length,I=Object.keys(v.toJS())[0],S=Object.values(v.toJS())[0]||[],E=a.toJS().id;function _(n,t,e){S.includes(e)&&I==C||(y(l),k(l),w(t),N(C),O(n.nativeEvent.clientX,n.nativeEvent.clientY))}return Object(r.useEffect)((function(){g&&(c+1+x.b>=L||s(c+x.b))}),[g,c,L]),Object(i.jsxs)(p,{ref:t,showBackground:n.showBackground,children:[Object(i.jsxs)("div",{className:"first_line",children:[Object(i.jsxs)("div",{className:"play_all",onClick:function(n){return _(n,0)},children:[Object(i.jsx)("i",{className:"iconfont",children:"\ue6e3"}),Object(i.jsxs)("span",{children:["\u64ad\u653e\u5168\u90e8 ",Object(i.jsxs)("span",{className:"sum",children:["(\u5171",L,"\u9996)"]})]})]}),u?(e=d,Object(i.jsxs)("div",{className:"add_list",children:[Object(i.jsx)("i",{className:"iconfont",children:"\ue62d"}),Object(i.jsxs)("span",{children:["\u6536\u85cf(",Math.floor(e/1e3)/10,"\u4e07)"]})]})):null]}),Object(i.jsx)(f,{children:function(n){for(var t=[],e=m?c+x.b:n.length,o=0;o<e&&"break"!==function(e){if(e>=n.length)return"break";var o=n[e];t.push(Object(i.jsxs)("li",{className:h()({songActive:I==C&&E==o.id,songError:I==C&&S.includes(o.id)}),onClick:function(n){return _(n,e,o.id)},children:[Object(i.jsx)("span",{className:"index",children:e+1}),Object(i.jsxs)("div",{className:"info",children:[Object(i.jsx)("span",{children:o.name}),Object(i.jsxs)("span",{children:[(o.ar,Object(b.d)(o))," - ",(o.al||o.album).name]})]})]},o.id))}(o);o++);return t}(l)})]})}));t.a=Object(s.b)((function(n){return{fullScreen:n.getIn(["player","fullScreen"]),playing:n.getIn(["player","playing"]),errorList:n.getIn(["player","errorList"]),currentIndex:n.getIn(["player","currentIndex"]),currentSong:n.getIn(["player","currentSong"]),scrollY:n.getIn(["album","scrollY"])}}),(function(n){return{changePlayListDispatch:function(t){n(Object(g.e)(t))},changeCurrentIndexDispatch:function(t){n(Object(g.a)(t))},changeErrorListDispatch:function(t){n(Object(g.c)(t))},changeSequecePlayListDispatch:function(t){n(Object(g.h)(t))}}}))(a.a.memo(e))},255:function(n,t,e){}}]);