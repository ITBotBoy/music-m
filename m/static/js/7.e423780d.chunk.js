(this["webpackJsonpreact-music"]=this["webpackJsonpreact-music"]||[]).push([[7],{242:function(n,e,t){"use strict";t(0);var i=t(11),o=(t(243),t(1));e.a=Object(i.g)((function(n){var e=void 0===(t=n.title)?"\u6b4c\u5355":t,t=n.history;n=n.isMarquee;return Object(o.jsxs)("nav",{className:"mm-nav",children:[Object(o.jsx)("div",{className:"mm-nav-left",onClick:t.goBack}),n?Object(o.jsx)("marquee",{children:Object(o.jsx)("div",{className:"mm-nav-title",children:e})}):Object(o.jsx)("div",{className:"mm-nav-title",children:e}),Object(o.jsx)("div",{className:"mm-nav-right"})]})}))},243:function(n,e,t){},249:function(n,e,t){"use strict";var i=t(3),o=t(0),a=t.n(o),r=t(4),c=t(5),s=(t(2),t(1)),l=r.a.div(Object(i.a)(["\n  .icon_wrapper{\n    position: fixed;\n    z-index: 1000;\n    margin-top: -10px;\n    margin-left: -10px;\n      color: var(--THEME);\n    font-size: 14px;\n    display: none;\n    transition: transform 1s cubic-bezier(.62,-0.1,.86,.57);\n    transform: translate3d(0, 0, 0);\n    >div{\n      transition: transform 1s;\n    }\n  }\n"]));e.a=a.a.memo(Object(o.forwardRef)((function(n,e){var t=Object(o.useRef)(),i=Object(c.h)("transform");function a(n){for(var e=n.x,o=n.y,a=0;a<10&&"break"!==function(n){var a=[].slice.call(t.current.children)[n];if(!1===a.running)return a.style.left=e+"px",a.style.top=o+"px",a.style.display="inline-block",setTimeout((function(){a.running=!0,a.style[i]="translate3d(0, 750px, 0)",a.querySelector("div").style[i]="translate3d(-40px, 0, 0)"}),20),"break"}(a);a++);}return Object(o.useEffect)((function(){for(var n,e=0;e<10;e++){var i=(void 0,n="<div class='icon_wrapper'>".concat(i='<div class="iconfont">&#xe642;</div>',"</div>"),(i=document.createElement("div")).innerHTML=n,i.firstChild);t.current.appendChild(i)}[].slice.call(t.current.children).forEach((function(n){n.running=!1,n.addEventListener("transitionend",(function(){this.style.display="none",this.style.transform="translate3d(0, 0, 0)",this.running=!1,this.querySelector("div").style.transform="translate3d(0, 0, 0)"}),!1)}))}),[]),Object(o.useImperativeHandle)(e,(function(){return{startAnimation:a}})),Object(s.jsx)(l,{ref:t})})))},250:function(n,e,t){"use strict";t.r(e),t.d(e,"Context",(function(){return C}));var i=t(10),o=t(0),a=t.n(o),r=t(3),c=t(4),s=t(2),l=c.a.div(Object(r.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 100;\n  overflow: hidden;\n  //background: #f2f3f4;\n  background: #fff;\n  transform-origin: right bottom;\n  &.fly-enter, &.fly-appear{\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n  &.fly-enter-active, &.fly-appear-active{\n    transition: transform .3s;\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit{\n    transform: rotateZ(0deg) translate3d(0, 0, 0);\n  }\n  &.fly-exit-active{\n    transition: transform .3s;\n    transform: rotateZ(30deg) translate3d(100%, 0, 0);\n  }\n"])),d=(c.a.div(Object(r.a)(["\n  background-size: 100%;\n  padding: 5px 20px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  box-sizing: border-box;\n  width: 100%;\n  height: 200px;\n  position: relative;\n  z-index: 100;\n  .background{\n    /* z-index: -1; */\n    background: url(",") left top no-repeat;\n\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    filter: blur(20px);\n    transform: scale(1.5);\n  }\n  .img_wrapper{\n    width: 120px;\n    height: 120px;\n    position: relative;         \n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient(hsla(0,0%,43%,.4),hsla(0,0%,100%,0));\n    }\n    .play_count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play{\n        vertical-align: top;\n      }\n    }\n    img{\n      width: 120px;\n      height: 120px;\n      border-radius:3px;\n    }\n  }\n  .desc_wrapper {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    height: 120px;\n    padding: 0 10px;\n    .title{\n      max-height: 70px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n      font-weight: 700;\n      line-height: 1.5;\n      font-size: ",";\n    }\n    .person{\n      display: flex;\n      .avatar{\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        img{\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n        }\n      }\n      .name {\n        line-height: 20px;\n        font-size: ",";\n        color: ",";\n      }\n    }\n  }\n"]),(function(n){return n.background}),s.a["font-size-s"],s.a["font-color-light"],s.a["font-color-desc"],s.a["font-size-l"],s.a["font-size-m"],s.a["font-color-desc"]),c.a.div(Object(r.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  box-sizing: border-box;\n  margin: 0 30px;\n  margin-top: -20px;\n  margin-bottom: 10px;\n  >div {\n    display: flex;\n    flex-direction: column;\n    line-height: 20px;\n    text-align: center;\n    font-size: ",";\n    color: #3b1f1f;\n    color: ",";\n    z-index:1000;\n    font-weight: 500;\n    .iconfont {\n      font-size: 20px;\n    }\n  }\n"]),s.a["font-size-s"],s.a["font-color-desc"]),c.a.div(Object(r.a)(["\n  border-radius: 10px;\n  opacity: 0.98;\n  .first_line{\n    box-sizing: border-box;\n    padding: 10px 0;\n    margin-left: 10px;\n    position: relative;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n    .play_all{\n      display: inline-block;\n      line-height: 24px;\n      color: ",";\n      .iconfont {\n        font-size: 24px;\n        margin-right: 10px;\n        vertical-align: top;\n      }\n      .sum{\n        font-size: ",";\n        color: ",";\n      }\n      >span{\n        vertical-align: top;\n      }\n    }\n    .add_list {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      right: 0; top :0px; bottom: 0;\n      width: 130px;\n      line-height: 34px;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: 3px;\n      vertical-align: top;\n      .iconfont {\n        vertical-align: top;\n        font-size: 10px;\n        margin: 0 5px 0 10px;\n      }\n      span{\n        font-size: 14px;\n        line-height: 34px;\n      }\n  }\n}\n"]),s.a["border-color"],s.a["font-color-desc"],s.a["font-size-s"],s.a["font-color-desc-v2"],s.a["theme-color"],s.a["font-color-light"]),c.a.ul(Object(r.a)(["\n  >li{\n    display: flex;\n    height: 60px;\n    align-items: center;  \n    .index{\n      width: 60px;\n      height: 60px;\n      line-height: 60px;\n      text-align: center;\n    }\n   \n    .info{\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      height: 100%;\n      padding: 5px 0;\n      flex-direction: column;\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n      >span:first-child{\n        color: ",";\n      }\n      >span:last-child{\n        font-size: ",";\n        color: #bba8a8;\n      }\n    }\n    \n  }\n"]),s.a["border-color"],s.a["font-color-desc"],s.a["font-size-s"]),c.a.div(Object(r.a)(["\n  position: fixed;\n  left: 0; right: 0; top: 0; bottom: 0;\n  width: 100px;\n  height: 100px;\n  margin: auto;\n"])),t(241)),p=t(38),u=t(22),b=t(75),f=t(72),x=t(242),h=t(1),g=c.a.div(Object(r.a)(["\n    .mm-nav {\n        position: ",";\n        z-index: 3;\n        width:100%;\n        background:",";\n    }\n"]),(function(n){return n.loading?"relative":"fixed"}),(function(n){return n.isMarquee||n.loading?"var(--THEME)":"transparent"})),j=a.a.forwardRef((function(n,e){var t=n.title,i=n.isMarquee;n=n.loading;return Object(h.jsx)(g,{ref:e,isMarquee:i,loading:n?1:0,children:Object(h.jsx)(x.a,{title:t,isMarquee:i})})}));j.defaultProps={handleClick:function(){},title:"\u6807\u9898",isMarquee:!1};var m=a.a.memo(j),v=c.a.div(Object(r.a)(["\n    position: relative;\n   .topWrapper {\n       background-size: 100%;\n      padding: 0 20px;\n      display: flex;\n      justify-content: space-around;\n      align-items: center;\n      box-sizing: border-box;\n      width: 100%;\n      height: 200px;\n      position: relative;\n   }\n  .background{\n    z-index: -1;\n    background: url(",") left top no-repeat;\n    background: contain;\n    background-position: 0 0;\n    background-size: 100% 100%;\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    filter: blur(20px);\n    .filter{\n      position: absolute;\n      z-index: 10;\n      top: 0; left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(7, 17, 27, 0.2);\n    }\n  }\n  .img_wrapper{\n    width: 120px;\n    height: 120px;\n    position: relative;         \n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient(hsla(0,0%,43%,.4),hsla(0,0%,100%,0));\n    }\n    .play_count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play{\n        vertical-align: top;\n      }\n    }\n    img{\n      width: 120px;\n      height: 120px;\n      border-radius:3px;\n    }\n  }\n  .desc_wrapper {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    height: 120px;\n    padding: 0 10px;\n    .title{\n      max-height: 70px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      color: ",";\n      font-weight: 700;\n      line-height: 1.5;\n      font-size: ",";\n    }\n    .person{\n      display: flex;\n      .avatar{\n        width: 20px;\n        height: 20px;\n        margin-right: 5px;\n        img{\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n        }\n      }\n      .name {\n        line-height: 20px;\n        font-size: ",";\n        color: ",";\n      }\n    }\n  }\n"]),(function(n){return n.background}),s.a["font-size-s"],s.a["font-color-light"],s.a["font-color-light"],s.a["font-size-l"],s.a["font-size-m"],s.a["font-color-desc-v2"]),O=c.a.div(Object(r.a)(["\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  box-sizing: border-box;\n  padding: 0 30px 20px 30px;\n  >div {\n    display: flex;\n    flex-direction: column;\n    line-height: 20px;\n    text-align: center;\n    font-size: ",";\n    color: #3b1f1f;\n    color: ",";\n    z-index:1000;\n    font-weight: 500;\n    .iconfont {\n      font-size: 20px;\n    }\n  }\n"]),s.a["font-size-s"],s.a["font-color-light"]),y=t(251);t(252);var z=a.a.memo((function(n){var e=n.currentAlbum,t=n.pullUpLoading,i=(n.id,function(){return Object(h.jsxs)(O,{children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("i",{className:"icon icon-pinglun"}),"\u8bc4\u8bba"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("i",{className:"icon icon-xihuan1"}),"\u70b9\u8d5e"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("i",{className:"icon icon-tianjia"}),"\u6536\u85cf"]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("i",{className:"icon icon-youcecaidan"}),"\u66f4\u591a"]})]})});return Object(h.jsxs)("div",{children:[Object(h.jsxs)(v,{background:e.coverImgUrl,children:[Object(h.jsx)("div",{className:"background",children:Object(h.jsx)("div",{className:"filter"})}),Object(h.jsxs)("div",{className:"topWrapper",children:[Object(h.jsxs)("div",{className:"img_wrapper",children:[Object(h.jsx)("div",{className:"decorate"}),Object(h.jsx)("img",{src:e.coverImgUrl,alt:""}),Object(h.jsxs)("div",{className:"play_count",children:[Object(h.jsx)("i",{className:"icon play icon-headset"}),Object(h.jsxs)("span",{className:"count",children:[Math.floor(e.subscribedCount/1e3)/10,"\u4e07"]})]})]}),Object(h.jsxs)("div",{className:"desc_wrapper",children:[Object(h.jsx)("h1",{className:"title",children:e.name}),Object(h.jsxs)("div",{className:"person",children:[Object(h.jsx)("div",{className:"avatar",children:Object(h.jsx)("img",{src:e.creator.avatarUrl,alt:""})}),Object(h.jsx)("div",{className:"name",children:e.creator.nickname})]})]})]}),n.showMenu&&i()]}),Object(h.jsx)(y.a,{songs:e.tracks,collectCount:e.subscribedCount,showCollect:!1,loading:t,musicAnimation:n.musicAnimation,showBackground:!0})]})})),w=t(6),k=t(249),N=t(5),C=Object(o.createContext)(void 0);e.default=Object(u.b)((function(n){return{currentAlbum:n.getIn(["album","currentAlbum"]),pullUpLoading:n.getIn(["album","pullUpLoading"]),enterLoading:n.getIn(["album","enterLoading"]),startIndex:n.getIn(["album","startIndex"]),totalCount:n.getIn(["album","totalCount"])}}),(function(n){return{getAlbumDataDispatch:function(e){n(Object(b.a)(!0)),n(Object(b.c)(e))},changePullUpLoadingStateDispatch:function(e){n(Object(b.b)(e))}}}))(a.a.memo((function(n){var e=Object(o.useState)(!0),t=(O=Object(i.a)(e,2))[0],a=O[1],r=Object(o.useState)("\u6b4c\u5355"),c=(y=Object(i.a)(r,2))[0],s=y[1],u=Object(o.useState)(!1),b=Object(i.a)(u,2),x=(e=b[0],b[1]),g=Object(o.useRef)(),j=Object(o.useRef)(),v=n.match.params.id,O=n.currentAlbum,y=(r=n.enterLoading,n.pullUpLoading),L=(u=n.songsCount,n.getAlbumDataDispatch),I=n.changePullUpLoadingStateDispatch,S=O.toJS();return Object(o.useEffect)((function(){L(v)}),[L,v]),b=Object(o.useCallback)((function(n){var e=-w.a,t=Math.abs(n.y/e),i=j.current;n.y<e?(i.style.opacity=Math.min(1,(t-1)/2),s(S&&S.name),x(!0)):(i.style.opacity=1,s("\u6b4c\u5355"),x(!1))}),[S]),O=Object(o.useCallback)((function(){a(!1)}),[]),Object(h.jsx)(d.a,{in:t,timeout:300,appear:!0,unmountOnExit:!0,onExited:n.history.goBack,children:Object(h.jsxs)(l,{play:u,children:[Object(h.jsx)(m,{ref:j,loading:r,title:c,handleClick:O,isMarquee:e}),r||Object(N.g)(S)?null:Object(h.jsx)(p.a,{onScroll:b,pullUp:function(){I(!0),I(!1)},pullUpLoading:y,bounceTop:!0,children:Object(h.jsx)(C.Provider,{value:v,children:Object(h.jsx)(z,{showMenu:!1,currentAlbum:S,pullUpLoading:y,musicAnimation:function(n,e){g.current.startAnimation({x:n,y:e})}})})}),r?Object(h.jsx)(f.a,{}):null,Object(h.jsx)(k.a,{ref:g})]})})})))},251:function(n,e,t){"use strict";var i=t(10),o=t(0),a=t.n(o),r=t(3),c=t(4),s=t(2),l=c.a.div(Object(r.a)(["\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  opacity: 0.98;\n  ",";\n  .first_line{\n    box-sizing: border-box;\n    padding: 10px 0;\n    margin-left: 10px;\n    position: relative;\n    justify-content: space-between;\n    border-bottom: 1px solid ",";\n    .play_all{\n      display: inline-block;\n      line-height: 24px;\n      color: ",";\n      .iconfont {\n        font-size: 24px;\n        margin-right: 10px;\n        vertical-align: top;\n      }\n      .sum{\n        font-size: ",";\n        color: ",";\n      }\n      >span{\n        vertical-align: top;\n      }\n    }\n    .add_list,.isCollected {\n      display: flex;\n      align-items: center;\n      position: absolute;\n      right: 0; top :0; bottom: 0;\n      width: 130px;\n      line-height: 34px;\n      background: ",";\n      color: ",";\n      font-size: 0;\n      border-radius: 3px;\n      vertical-align: top;\n      .iconfont {\n        vertical-align: top;\n        font-size: 10px;\n        margin: 0 5px 0 10px;\n      }\n      span{\n        font-size: 14px;\n        line-height: 34px;\n      }\n    }\n    .isCollected{\n      display: flex;\n      background: ",";\n      color: ",";\n    }\n}\n"]),(function(n){return n.showBackground?"background: ".concat(s.a["highlight-background-color"]):""}),s.a["border-color"],s.a["font-color-desc"],s.a["font-size-s"],s.a["font-color-desc-v2"],s.a["theme-color"],s.a["font-color-light"],s.a["background-color"],s.a["font-color-desc"]),d=c.a.ul(Object(r.a)(["\n  >li{\n    display: flex;\n    height: 54px;\n    align-items: center;\n    &:last-child {\n        .info {\n        border: none!important;\n        }\n    }  \n    &.songError{\n        * {\n        color: #bbbbbb!important;\n        }\n    }\n    &.songActive {\n        * {\n        color: var(--THEME)!important;\n        }\n    }\n    .index{\n        font-size:",";\n    color:",";\n      flex-basis: 60px;\n      width: 60px;\n      height: 54px;\n      line-height: 54px;\n      text-align: center;\n    }\n    .info{\n      box-sizing: border-box;\n      flex: 1;\n      display: flex;\n      height: 100%;\n      padding: 4px 0;\n      flex-direction: column;\n      justify-content: space-around;\n      border-bottom: 1px solid ",";\n      ","\n      >span{\n        ","\n      }\n      >span:first-child{\n        font-size:",";\n        color: ",";\n      }\n      >span:last-child{\n        font-size: ",";\n        color:",";\n      }\n    }\n  }\n"]),s.a["font-size-m"],s.a["list-main-color"],s.a["border-color"],s.a.noWrap(),s.a.noWrap(),s.a["font-size-m"],s.a["list-main-color"],s.a["font-size-s"],s.a["list-light-color"]),p=t(5),u=t(6),b=(r=t(71),t.n(r)),f=(r=t(22),t(9)),x=t(250),h=t(1);t=a.a.forwardRef((function(n,e){var t,a=Object(o.useState)(0),r=(v=Object(i.a)(a,2))[0],c=v[1],s=n.songs,f=n.collectCount,g=n.showCollect,j=void 0!==(z=n.loading)&&z,m=n.usePageSplit,v=(a=n.currentSong,n.errorList),O=n.musicAnimation,y=n.changePlayListDispatch,z=n.fakeId,w=n.changeCurrentIndexDispatch,k=n.changeSequecePlayListDispatch,N=n.changeErrorListDispatch,C=Object(o.useContext)(x.Context)||z,L=s.length,I=Object.keys(v.toJS())[0],S=Object.values(v.toJS())[0]||[],E=a.toJS().id;function _(n,e,t){S.includes(t)&&I==C||(y(s),k(s),w(e),N(C),O(n.nativeEvent.clientX,n.nativeEvent.clientY))}return Object(o.useEffect)((function(){j&&(r+1+u.b>=L||c(r+u.b))}),[j,r,L]),Object(h.jsxs)(l,{ref:e,showBackground:n.showBackground,children:[Object(h.jsxs)("div",{className:"first_line",children:[Object(h.jsxs)("div",{className:"play_all",onClick:function(n){return _(n,0)},children:[Object(h.jsx)("i",{className:"iconfont",children:"\ue6e3"}),Object(h.jsxs)("span",{children:["\u64ad\u653e\u5168\u90e8 ",Object(h.jsxs)("span",{className:"sum",children:["(\u5171",L,"\u9996)"]})]})]}),g?(t=f,Object(h.jsxs)("div",{className:"add_list",children:[Object(h.jsx)("i",{className:"iconfont",children:"\ue62d"}),Object(h.jsxs)("span",{children:["\u6536\u85cf(",Math.floor(t/1e3)/10,"\u4e07)"]})]})):null]}),Object(h.jsx)(d,{children:function(n){for(var e=[],t=m?r+u.b:n.length,i=0;i<t&&"break"!==function(t){if(t>=n.length)return"break";var i=n[t];e.push(Object(h.jsxs)("li",{className:b()({songActive:I==C&&E==i.id,songError:I==C&&S.includes(i.id)}),onClick:function(n){return _(n,t,i.id)},children:[Object(h.jsx)("span",{className:"index",children:t+1}),Object(h.jsxs)("div",{className:"info",children:[Object(h.jsx)("span",{children:i.name}),Object(h.jsxs)("span",{children:[(i.ar,Object(p.d)(i))," - ",(i.al||i.album).name]})]})]},i.id))}(i);i++);return e}(s)})]})}));e.a=Object(r.b)((function(n){return{fullScreen:n.getIn(["player","fullScreen"]),playing:n.getIn(["player","playing"]),errorList:n.getIn(["player","errorList"]),currentIndex:n.getIn(["player","currentIndex"]),currentSong:n.getIn(["player","currentSong"]),scrollY:n.getIn(["album","scrollY"])}}),(function(n){return{changePlayListDispatch:function(e){n(Object(f.e)(e))},changeCurrentIndexDispatch:function(e){n(Object(f.a)(e))},changeErrorListDispatch:function(e){n(Object(f.c)(e))},changeSequecePlayListDispatch:function(e){n(Object(f.h)(e))}}}))(a.a.memo(t))},252:function(n,e,t){}}]);